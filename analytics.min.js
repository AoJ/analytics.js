//     Analytics.js 0.4.6
//     (c) 2013 Segment.io Inc.
//     Analytics.js may be freely distributed under the MIT license.
(function(){var e={userId:null,date:new Date,loaded:!1,initialized:!1,timeout:300,initializableProviders:{},providers:[],addProvider:function(t,n){var r=e.Provider.extend(n);this.initializableProviders[t]=r},initialize:function(e){this.providers=[],this.userId=null;for(var t in e){var n=this.initializableProviders[t];if(!n)throw new Error('Could not find a provider named "'+t+'"');var r=e[t];this.providers.push(new n(r))}this.initialized=!0;var i=this._.getUrlParameter(window.location.search,"ajs_uid");i&&this.identify(i);var s=this._.getUrlParameter(window.location.search,"ajs_event");s&&this.track(s)},identify:function(e,t,n){if(!this.initialized)return;this._.isFunction(t)&&(n=t,t=null),this._.isObject(e)&&(t&&this._.isFunction(t)&&(n=t),t=e,e=null),e!==null?this.userId=e:e=this.userId;for(var r=0,i;i=this.providers[r];r++)i.identify&&i.identify(e,this._.clone(t));n&&this._.isFunction(n)&&setTimeout(n,this.timeout)},track:function(e,t,n){if(!this.initialized)return;this._.isFunction(t)&&(n=t,t=null);for(var r=0,i;i=this.providers[r];r++)i.track&&i.track(e,this._.clone(t));n&&this._.isFunction(n)&&setTimeout(n,this.timeout)},trackLink:function(e,t,n){if(!e)return;this._.isElement(e)&&(e=[e]);for(var r=0;r<e.length;r++){var i=this,s=e[r];this._.bind(s,"click",function(e){i._.isFunction(n)&&(n=n(s)),i.track(t,n),s.href&&s.target!=="_blank"&&!i._.isMeta(e)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,setTimeout(function(){window.location.href=s.href},i.timeout))})}},trackForm:function(e,t,n){if(!e)return;this._.isElement(e)&&(e=[e]);for(var r=0;r<e.length;r++){var i=this,s=e[r];this._.bind(s,"submit",function(e){i._.isFunction(n)&&(n=n(s)),i.track(t,n),e.preventDefault?e.preventDefault():e.returnValue=!1,setTimeout(function(){s.submit()},i.timeout)})}},pageview:function(e){if(!this.initialized)return;for(var t=0,n;n=this.providers[t];t++)n.pageview&&n.pageview(e)},_:{bind:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},extend:function(e){var t=Array.prototype.slice.call(arguments,1);for(var n=0,r;r=t[n];n++)for(var i in r)e[i]=r[i];return e},clone:function(e){if(!e)return;return this.extend({},e)},alias:function(e,t){for(var n in t){var r=t[n];e[n]!==undefined&&(e[r]=e[n],delete e[n])}},isElement:function(e){return!!e&&e.nodeType===1},isObject:function(e){return e===Object(e)},isArray:Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},isString:function(e){return Object.prototype.toString.call(e)==="[object String]"},isFunction:function(e){return Object.prototype.toString.call(e)==="[object Function]"},isNumber:function(e){return Object.prototype.toString.call(e)==="[object Number]"},isEmail:function(e){return/.+\@.+\..+/.test(e)},getSeconds:function(e){return Math.floor(new Date(e)/1e3)},isMeta:function(e){if(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)return!0;var t=e.which,n=e.button;return!t&&n!==undefined?!n&1&&!n&2&&n&4:t===2?!0:!1},getUrlParameter:function(e,t){var n=e.replace("?","").split("&");for(var r=0;r<n.length;r+=1){var i=n[r].split("=");if(i.length===2&&i[0]===t)return decodeURIComponent(i[1])}},parseUrl:function(e){var t=document.createElement("a");return t.href=e,{href:t.href,host:t.host||location.host,port:t.port||location.port,hash:t.hash,hostname:t.hostname||location.hostname,pathname:t.pathname,protocol:!t.protocol||":"===t.protocol?location.protocol:t.protocol,search:t.search,query:t.search.slice(1)}},loadScript:function(e){this.isString(e)&&(e={fragment:e});var t=document.createElement("script");t.type="text/javascript",t.async=!0,e.id&&(t.id=e.id);if(e.attributes)for(var n in e.attributes)t.setAttribute(n,e.attributes[n]);var r="https:"===document.location.protocol?"https:":"http:";r==="https:"?t.src=e.https||r+e.fragment:t.src=e.http||r+e.fragment;var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(t,i)}}};e.trackClick=e.trackLink,e.trackSubmit=e.trackForm;var t=window.onload;window.onload=function(){e.loaded=!0,e._.isFunction(t)&&t()};var n=e.Provider=function(t){if(!e._.isString(t)||!this.key)throw new Error("Could not resolve options.");var n=t;t={},t[this.key]=n,e._.extend(this.options,t),this.initialize.call(this,this.options)};e._.extend(n.prototype,{options:{},key:undefined,initialize:function(e){}}),n.extend=function(t,n){var r=this,i=function(){return r.apply(this,arguments)},s=function(){this.constructor=i};return s.prototype=r.prototype,i.prototype=new s,e._.extend(i.prototype,n),i},window.analytics=e})(),analytics.addProvider("Bitdeli",{options:{inputId:null,authToken:null,initialPageview:!0},initialize:function(e){var t=window._bdq=window._bdq||[];t.push(["setAccount",e.inputId,e.authToken]),this.loadScript("//d2flrkr957qc5j.cloudfront.net/bitdeli.min.js"),e.initialPageview&&this.pageview()},identify:function(e,t){e&&window._bdq.push(["identify",e]),t&&window._bdq.push(["set",t])},track:function(e,t){window._bdq.push(["track",e,t])},pageview:function(e){window._bdq.push(["trackPageview",e])}}),analytics.addProvider("Chartbeat",{defaults:{uid:null,domain:null},initialize:function(e){window._sf_async_config=e,window._sf_endpt=analytics.date.getTime(),this.loadScript({http:"http://static.chartbeat.com/js/chartbeat.js",https:"https://a248.e.akamai.net/chartbeat.download.akamai.com/102508/js/chartbeat.js"})},pageview:function(e){window.pSUPERFLY.virtualPage(e||window.location.pathname)}}),analytics.addProvider("Clicky",{key:"siteId",initialize:function(e){window.clicky_site_ids=window.clicky_site_ids||[],window.clicky_site_ids.push(e.siteId),this.loadScript("//static.getclicky.com/js")},track:function(e,t){window.clicky&&window.clicky.log(window.location.href,e)}}),analytics.addProvider("comScore",{key:"c2",defaults:{c1:"2",c2:null},initialize:function(e){var t=window._comscore=window._comscore||[];t.push(e),this.loadScript({http:"http://b.scorecardresearch.com/beacon.js",https:"https://sb.scorecardresearch.com/beacon.js"})}}),analytics.addProvider("CrazyEgg",{key:"apiKey",initialize:function(e){this.loadScript("//dnn506yrbagrg.cloudfront.net/pages/scripts/"+e.apiKey+".js?"+Math.floor((new Date).getTime()/36e5))}}),analytics.addProvider("Customer.io",{key:"siteId",initialize:function(e){var t=window._cio=window._cio||[];(function(){var e,n,r;e=function(e){return function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}},n=["identify","track"];for(r=0;r<n.length;r++)t[n[r]]=e(n[r])})(),this.loadScript({http:"https://assets.customer.io/assets/track.js",https:"https://assets.customer.io/assets/track.js",id:"cio-tracker",attributes:{"data-site-id":e.sideId}})},identify:function(e,t){if(!e)return;t||(t={}),t.id=e,!t.email&&analytics._.isEmail(e)&&(t.email=e),t.created&&(t.created_at=analytics._.getSeconds(t.created),delete t.created),window._cio.identify(t)},track:function(e,t){window._cio.track(e,t)}}),analytics.addProvider("Errorception",{key:"projectId",defaults:{meta:!0},initialize:function(e){var t=window._errs=window._errs||[e.projectId];window.onerror=function(){t.push(arguments)},this.loadScript("//d15qhc0lu1ghnk.cloudfront.net/beacon.js")},identify:function(e,t){if(!t)return;window._errs.meta||(window._errs.meta={}),this.options.meta&&analytics._.extend(window._errs.meta,t)}}),analytics.addProvider("FoxMetrics",{key:"appId",initialize:function(e){var t=window._fxm||{};window._fxm=t.events||[],this.loadScript("//d35tca7vmefkrc.cloudfront.net/scripts/"+e.appId+".js")},identify:function(e,t){if(!e)return;var n,r,i;t&&t.name&&(n=t.name.split(" ")[0],r=t.name.split(" ")[1]),t&&t.email&&(i=t.email),delete t.name,delete t.email,window._fxm.push(["_fxm.visitor.Profile",e,n,r,i,null,null,null,t])},track:function(e,t){window._fxm.push([e,null,t])},pageview:function(e){window._fxm.push(["_fxm.pages.view",null,null,null,e||null,null])}}),analytics.addProvider("Google Analytics",{settings:{anonymizeIp:!1,enhancedLinkAttribution:!1,siteSpeedSampleRate:null,domain:null,trackingId:null},initialize:function(e){e=analytics.utils.resolveSettings(e,"trackingId"),analytics.utils.extend(this.settings,e);var t=window._gaq=window._gaq||[];t.push(["_setAccount",this.settings.trackingId]),this.settings.domain&&t.push(["_setDomainName",this.settings.domain]);if(this.settings.enhancedLinkAttribution){var n=("https:"===document.location.protocol?"https://www.":"http://www.")+"google-analytics.com/plugins/ga/inpage_linkid.js";t.push(["_require","inpage_linkid",n])}analytics.utils.isNumber(this.settings.siteSpeedSampleRate)&&t.push(["_setSiteSpeedSampleRate",this.settings.siteSpeedSampleRate]),this.settings.anonymizeIp&&t.push(["_gat._anonymizeIp"]);var r,i=document.getElementsByTagName("meta");for(var s=0,o;o=i[s];s++)o.getAttribute("rel")==="canonical"&&(r=o.getAttribute("href"));t.push(["_trackPageview",r]),analytics.utils.loadScript({http:"http://www.google-analytics.com/ga.js",https:"https://ssl.google-analytics.com/ga.js"})},track:function(e,t){t||(t={});var n;analytics.utils.isNumber(t.value)&&(n=t.value),window._gaq.push(["_trackEvent",t.category||"All",e,t.label,n,t.noninteraction])},pageview:function(e){window._gaq.push(["_trackPageview",e])}}),analytics.addProvider("Gauges",{settings:{siteId:null},initialize:function(e){e=analytics._.resolveSettings(e,"siteId"),analytics._.extend(this.settings,e);var t=window._gauges=window._gauges||[];analytics._.loadScript({fragment:"//secure.gaug.es/track.js",id:"gauges-tracker",attributes:{"data-site-id":e.siteId}})},pageview:function(e){window._gauges.push(["track"])}}),analytics.addProvider("GoSquared",{settings:{siteToken:null},initialize:function(e){e=analytics._.resolveSettings(e,"siteToken"),analytics._.extend(this.settings,e),window.GoSquared={acct:this.settings.siteToken,q:[]},window._gstc_lt=+(new Date),analytics._.loadScript("//d1l6p2sc9645hc.cloudfront.net/tracker.js")},identify:function(e,t){e&&(window.GoSquared.UserName=e),t&&(window.GoSquared.Visitor=t)},track:function(e,t){t||(t={}),window.GoSquared.q.push(["TrackEvent",e,t])},pageview:function(e){var t=["TrackView"];e&&t.push(e),window.GoSquared.q.push(t)}}),analytics.addProvider("HitTail",{settings:{siteId:null},initialize:function(e){e=analytics._.resolveSettings(e,"siteId"),analytics._.extend(this.settings,e),analytics._.loadScript("//"+this.settings.siteId+".hittail.com/mlt.js")}}),analytics.addProvider("HubSpot",{settings:{portalId:null},initialize:function(e){e=analytics._.resolveSettings(e,"portalId"),analytics._.extend(this.settings,e),window._hsq=window._hsq||[];var t="https://js.hubspot.com/analytics/"+Math.ceil(new Date/3e5)*3e5+"/"+this.settings.portalId+".js";analytics._.loadScript({id:"hs-analytics",http:t,https:t})},identify:function(e,t){if(!t)return;window._hsq.push(["identify",t])},track:function(e,t){window._hsq.push(["trackEvent",e,t])},pageview:function(){}}),analytics.addProvider("Intercom",{settings:{appId:null,activator:null},initialize:function(e){e=analytics._.resolveSettings(e,"appId"),analytics._.extend(this.settings,e)},identify:function(e,t){if(!e)return;var n=window.intercomSettings={app_id:this.settings.appId,user_id:e,user_hash:this.settings.userHash,custom_data:t||{}};t&&(n.email=t.email,n.name=t.name,n.created_at=analytics._.getSeconds(t.created)),analytics._.isEmail(e)&&t&&!t.email&&(n.email=e),this.settings.activator&&(n.widget={activator:this.settings.activator}),analytics._.loadScript({http:"https://api.intercom.io/api/js/library.js",https:"https://api.intercom.io/api/js/library.js"})}}),analytics.addProvider("Keen",{settings:{projectId:null,apiKey:null},initialize:function(e){if(typeof e!="object"||!e.projectId||!e.apiKey)throw new Error("Settings must be an object with properties projectId and apiKey.");analytics._.extend(this.settings,e);var t=window.Keen||{configure:function(e,t,n){this._pId=e,this._ak=t,this._op=n},addEvent:function(e,t,n,r){this._eq=this._eq||[],this._eq.push([e,t,n,r])},setGlobalProperties:function(e){this._gp=e},onChartsReady:function(e){this._ocrq=this._ocrq||[],this._ocrq.push(e)}};(function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src=("https:"==document.location.protocol?"https://":"http://")+"dc8na2hxrj29i.cloudfront.net/code/keen-2.0.0-min.js";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)})(),t.configure(e.projectId,e.apiKey),window.Keen=t},identify:function(e,t){var n={};e&&(n.userId=e),t&&(n.traits=t),(e||t)&&window.Keen.setGlobalProperties(function(e){return{user:n}})},track:function(e,t){window.Keen.addEvent(e,t)}}),analytics.addProvider("KISSmetrics",{key:"apiKey",initialize:function(e){var t=window._kmq=window._kmq||[];this.loadScript("//i.kissmetrics.com/i.js"),this.loadScript("//doug1izaerwt3.cloudfront.net/"+e.apiKey+".1.js")},identify:function(e,t){e&&window._kmq.push(["identify",e]),t&&window._kmq.push(["set",t])},track:function(e,t){window._kmq.push(["record",e,t])}}),analytics.addProvider("Klaviyo",{settings:{apiKey:null},initialize:function(e){e=analytics._.resolveSettings(e,"apiKey"),analytics._.extend(this.settings,e);var t=window._learnq=window._learnq||[];t.push(["account",this.settings.apiKey]),analytics._.loadScript("//a.klaviyo.com/media/js/learnmarklet.js")},identify:function(e,t){t||(t={}),e&&(t.$id=e),window._learnq.push(["identify",t])},track:function(e,t){window._learnq.push(["track",e,t])}}),analytics.addProvider("Mixpanel",{settings:{alias:!0,nameTag:!0,people:!1,token:null},initialize:function(e){e=analytics._.resolveSettings(e,"token"),analytics._.extend(this.settings,e),function(e,t){window.mixpanel=t;var n,r,i,s;n=e.createElement("script"),n.type="text/javascript",n.async=!0,n.src=("https:"===e.location.protocol?"https:":"http:")+"//cdn.mxpnl.com/libs/mixpanel-2.2.min.js",r=e.getElementsByTagName("script")[0],r.parentNode.insertBefore(n,r),t._i=[],t.init=function(e,n,r){function o(e,t){var n=t.split(".");2==n.length&&(e=e[n[0]],t=n[1]),e[t]=function(){e.push([t].concat(Array.prototype.slice.call(arguments,0)))}}var u=t;"undefined"!=typeof r?u=t[r]=[]:r="mixpanel",u.people=u.people||[],i=["disable","track","track_pageview","track_links","track_forms","register","register_once","unregister","identify","alias","name_tag","set_config","people.set","people.increment"];for(s=0;s<i.length;s++)o(u,i[s]);t._i.push([e,n,r])},t.__SV=1.2}(document,window.mixpanel||[]),window.mixpanel.init(this.settings.token,this.settings)},identify:function(e,t){e&&analytics._.isEmail(e)&&t&&!t.email&&(t||(t={}),t.email=e),t&&analytics._.alias(t,{created:"$created",email:"$email",firstName:"$first_name",lastName:"$last_name",lastSeen:"$last_seen",name:"$name",username:"$username"}),e&&(window.mixpanel.identify(e),this.settings.nameTag&&window.mixpanel.name_tag(t&&t.$email||e),this.settings.alias&&window.mixpanel.alias(e)),t&&(window.mixpanel.register(t),this.settings.people&&window.mixpanel.people.set(t))},track:function(e,t){window.mixpanel.track(e,t)},pageview:function(e){window.mixpanel.track_pageview(e)}}),analytics.addProvider("Olark",{settings:{siteId:null,track:!1,pageview:!0},initialize:function(e){e=analytics._.resolveSettings(e,"siteId"),analytics._.extend(this.settings,e),window.olark||function(e){var t=window,n=document,r=t.location.protocol=="https:"?"https:":"http:",i=e.name,s="load",o=function(){function h(){u.P(s),t[i](s)}t[i]=function(){(u.s=u.s||[]).push(arguments)};var u=t[i]._={},a=e.methods.length;while(a--)(function(e){t[i][e]=function(){t[i]("call",e,arguments)}})(e.methods[a]);u.l=e.loader,u.i=o,u.p={0:+(new Date)},u.P=function(e){u.p[e]=new Date-u.p[0]},t.addEventListener?t.addEventListener(s,h,!1):t.attachEvent("on"+s,h);var p=function(){function t(e){return e="head",["<",e,"></",e,"><",s,' onload="var d=',y,";d.getElementsByTagName('head')[0].",a,"(d.",f,"('script')).",h,"='",r,"//",u.l,"'",'"',"></",s,">"].join("")}var s="body",o=n[s];if(!o)return setTimeout(p,100);u.P(1);var a="appendChild",f="createElement",h="src",v=n[f]("div"),m=v[a](n[f](i)),g=n[f]("iframe"),y="document",b="domain",w;v.style.display="none",o.insertBefore(v,o.firstChild).id=i,g.frameBorder="0",g.id=i+"-loader",/MSIE[ ]+6/.test(navigator.userAgent)&&(g.src="javascript:false"),g.allowTransparency="true",m[a](g);try{g.contentWindow[y].open()}catch(E){e[b]=n[b],w="javascript:var d="+y+".open();d.domain='"+n.domain+"';",g[h]=w+"void(0);"}try{var S=g.contentWindow[y];S.write(t()),S.close()}catch(x){g[h]=w+'d.write("'+t().replace(/"/g,String.fromCharCode(92)+'"')+'");d.close();'}u.P(2)};p()};o()}({loader:"static.olark.com/jsclient/loader0.js",name:"olark",methods:["configure","extend","declare","identify"]}),window.olark.identify(this.settings.siteId)},identify:function(e,t){var n=e;t&&t.email&&(n=t.email),t&&t.name&&(n=t.name),t&&t.name&&t.email&&(n+=" ("+t.email+")");if(!n)return;window.olark("api.chat.updateVisitorNickname",{snippet:n})},track:function(e,t){if(!this.settings.track)return;window.olark("api.chat.sendNotificationToOperator",{body:'visitor triggered "'+e+'"'})},pageview:function(){if(!this.settings.pageview)return;window.olark("api.chat.sendNotificationToOperator",{body:"looking at "+window.location.href})}}),analytics.addProvider("Quantcast",{settings:{pCode:null},initialize:function(e){e=analytics._.resolveSettings(e,"pCode"),analytics._.extend(this.settings,e);var t=window._qevents=window._qevents||[];t.push({qacct:e.pCode}),analytics._.loadScript({http:"http://edge.quantserve.com/quant.js",https:"https://secure.quantserve.com/quant.js"})}}),analytics.addProvider("SnapEngage",{settings:{apiKey:null},initialize:function(e){e=analytics._.resolveSettings(e,"apiKey"),analytics._.extend(this.settings,e),analytics._.loadScript("//commondatastorage.googleapis.com/code.snapengage.com/js/"+this.settings.apiKey+".js")}}),analytics.addProvider("USERcycle",{settings:{key:null},initialize:function(e){e=analytics._.resolveSettings(e,"key"),analytics._.extend(this.settings,e);var t=window._uc=window._uc||[];window._uc.push(["_key",e.key]),analytics._.loadScript("//api.usercycle.com/javascripts/track.js")},identify:function(e,t){e&&window._uc.push(["uid",e,t])},track:function(e,t){window._uc.push(["action",e,t])}}),analytics.addProvider("Vero",{settings:{apiKey:null},initialize:function(e){e=analytics._.resolveSettings(e,"apiKey"),analytics._.extend(this.settings,e);var t=window._veroq=window._veroq||[];t.push(["init",{api_key:e.apiKey}]),analytics._.loadScript("//www.getvero.com/assets/m.js")},identify:function(e,t){if(!e)return;t||(t={}),t.id=e,!t.email&&analytics._.isEmail(e)&&(t.email=e);if(!t.id||!t.email)return;window._veroq.push(["user",t])},track:function(e,t){window._veroq.push(["track",e,t])}});